<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>What’s New in Gosu 0.10.2-C</title>
    <link rel="StyleSheet" href="css/gosu-opensource-whatsnew.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="gosu-opensource-whatsnew.05.1.html#1531433">What’s New and Changed in Gosu Community Release </a> : What’s New in Gosu 0.10.2-C </span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1531433">What’s New in Gosu 0.10.2-C </a></h3>
      <h4 class="H2_-_Heading_2"><a name="1531434">New Assert Statement</a></h4>
      <div class="B_-_Body"><a name="1531435">To confirm expectations and enforce a programmatic contract, Gosu has an </a><span class="cv_-_computer_voice">assert</span> statement with the same semantics and syntax as in Java. By default, <span class="cv_-_computer_voice">assert</span> statements have no effect in Gosu. To enable assertions, you must add the <span class="cv_-_computer_voice">-ea</span> flag on the JVM that hosts the application. For more details, see <a href="javascript:WWHClickedPopup('gosu', 'exceptionhandling.12.6.html#1503175', '');" title="Assert Statements">“Assert Statements”</a>.</div>
      <div class="B_-_Body"><a name="1531882">There is no upgrade impact to this change.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1531442">In For Loop Declarations, Local Variable is Now Optional</a></h4>
      <div class="B_-_Body"><a name="1531443">In previous releases, </a><span class="cv_-_computer_voice">for</span> loop declarations had to declare a local variable:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1531444">for (x in 1..10) { print( x ) }</a></PRE>
      <div class="B_-_Body"><a name="1531445">In some cases, the body of the loop may not use the variable.</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1531446">for (x in 1..10) { print( "hello!") }</a></PRE>
      <div class="B_-_Body"><a name="1531447">In version 8.0, if the type to iterate across is a Gosu </a><span class="e_-_emphasis">interval,</span> you can optionally omit the variable declaration including the word <span class="cv_-_computer_voice">in</span>. For example:</div>
      <div class="CS_-_Code_Single_Line"><a name="1531448">for (1..10) { print( "hello!") }</a></div>
      <div class="B_-_Body"><a name="1531449">There is no upgrade impact of this change.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1531450">Final Local Variable and Class Variable Initialization Separate from Declaration</a></h4>
      <div class="B_-_Body"><a name="1531451">In previous releases, Gosu supported declaring a local variable final using the syntax </a><span class="cv_-_computer_voice">final&nbsp;var</span> and setting a value on the same statement that declares the variable:</div>
      <div class="CS_-_Code_Single_Line"><a name="1531452">final var b : int = 10</a></div>
      <div class="B_-_Body"><a name="1531453">In this release, the previous syntax continues to be supported. There is a new option to declare the variable final but not immediately initialize it with a value. You must set the value eventually in that function for all possible code paths. </a></div>
      <div class="B_-_Body"><a name="1531454">For example, you can now write something like this:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1531455">function foo() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531456">  final var b : int</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531457">  b = 10</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1531458">}</a></PRE>
      <div class="B_-_Body"><a name="1531459">The Gosu compiler verifies all code paths have initialization exactly once. In other words, any </a><span class="cv_-_computer_voice">if</span> statements or other flow control structures must set the variable and only once.</div>
      <div class="B_-_Body"><a name="1531460">The following code is correct:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1531461">function foo(a : boolean) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531462">   final var b : int</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531463">   if(a) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531464">     b = 0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531465">   } else {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531466">     b = 1</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531467">   }</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1531468">  }</a></PRE>
      <div class="B_-_Body"><a name="1531469">However, if you remove the </a><span class="cv_-_computer_voice">else</span> branch it is invalid because as the <span class="cv_-_computer_voice">final</span> variable is initialized only if a is <span class="cv_-_computer_voice">true</span>.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1531470">function foo(a : boolean) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531471">   final var b : int // INVALID CODE, UNINITIALIZED IF "a" IS FALSE</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531472">   if (a) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531473">     b = 0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531474">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1531475">}</a></PRE>
      <div class="B_-_Body"><a name="1531476">There is no upgrade impact to this change.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="1531477">Final Class Variables</a></h6>
      <div class="B_-_Body"><a name="1531478">As in previous releases, the </a><span class="cv_-_computer_voice">final</span> keyword can be used on class variables. The class can set the variable only once, and only from the declared class, not by subclasses. </div>
      <div class="B_-_Body"><a name="1531479">In this release, the </a><span class="cv_-_computer_voice">final</span> keyword can now be used on a class variable declaration without immediately initializing the variable. If you do not immediately initialize the variable, all class constructors must initialize it in all possible code paths. </div>
      <div class="B_-_Body"><a name="1531480">For example, the following syntax is now valid because all constructors initialize it once in each code path:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1531481">class TestABC {</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1531482">   final var _name : String</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531483">&nbsp;</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1531484">   construct() {</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1531485">     _name = "hello"</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1531486">   }</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1531487">   construct(b : boolean){</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1531488">     _name = "there"</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1531489">  }</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1531490">}</a></PRE>
      <div class="B_-_Body"><a name="1531491">However, the following is invalid because one constructor does not initialize the final variable:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531492">class TestABC {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531493">   final var _name : String // INVALID CODE, ALL CONSTRUCTORS MUST INITIALIZE THIS IN ALL CODE PATHS</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531494">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531495">   construct() { // does not initialize the variable</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531496">&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531497">   construct(b : boolean){</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531498">     _name = "there"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531499">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1531500">}</a></PRE>
      <div class="B_-_Body"><a name="1531501">There is no upgrade impact to this change.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1531502">The </a><span class="cvh_-_computer_voice_in_heading">new</span> Operator is Now Optionally a Statement</h4>
      <div class="B_-_Body"><a name="1531503">In previous releases, the </a><span class="cv_-_computer_voice">new</span> operator is an expression but never a statement. For example, you could type:</div>
      <div class="CS_-_Code_Single_Line"><a name="1531504">var s = new String()</a></div>
      <div class="B_-_Body"><a name="1531505">However, you could not type as a complete statement:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1531506">new String()</a></div>
      <div class="B_-_Body"><a name="1531507">The </a><span class="cv_-_computer_voice">new</span> operator is now a statement. For some types, this may not be useful. However, if the constructor for the object triggers code that saves a copy of the new object, the return value from <span class="cv_-_computer_voice">new</span> may be unnecessary. This change may permit more concise code in some cases. See <a href="javascript:WWHClickedPopup('gosu', 'statements.10.2.html#1503805', '');" title="Gosu Statements">“New Is Optionally a Statement”</a>.</div>
      <div class="B_-_Body"><a name="1531844">There is no upgrade impact to this change.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1531512">Support Annotations on Function Parameters</a></h4>
      <div class="B_-_Body"><a name="1531513">The Gosu language now supports annotations on function parameters, including Gosu block declarations. In some cases you need to explicitly add uses lines to declare which annotation class to use. See </a><a href="javascript:WWHClickedPopup('gosu', 'annotations.17.2.html#1490759', '');" title="Annotating a Class, Method, Type, Class Variable, or Argument">“Annotating a Class, Method, Type, Class Variable, or Argument”</a>.</div>
      <div class="B_-_Body"><a name="1531517">There are currently no compile time APIs for changing IDE behavior based on the annotations.</a></div>
      <div class="B_-_Body"><a name="1531520">You can access function parameter annotations using Java reflection APIs. See </a><a href="javascript:WWHClickedPopup('gosu', 'annotations.17.3.html#1491415', '');" title="Annotations at Run Time">“Gosu Class Function Parameter Argument Annotations at Run Time”</a>.</div>
      <div class="B_-_Body"><a name="1531865">There is no upgrade impact to this change.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>